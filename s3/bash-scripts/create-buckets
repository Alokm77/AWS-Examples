#!/usr/bin/env bash

# Check if the bucket name and region are provided as arguments
if [ $# -ne 2 ]; then
    echo "Usage: $0 <bucket-name> <region>"
    exit 1
fi

# Assign arguments to variables
BUCKET_NAME=$1
REGION=$2

# Create the S3 bucket
echo "Creating S3 bucket: $BUCKET_NAME in region: $REGION"

# Run AWS CLI command to create the bucket
aws s3api create-bucket \
    --bucket "$BUCKET_NAME" \
    --region "$REGION" \
    --create-bucket-configuration LocationConstraint="$REGION"

# Check if the bucket creation was successful
if [ $? -eq 0 ]; then
    echo "Bucket created successfully: $BUCKET_NAME"
else
    echo "Error creating bucket: $BUCKET_NAME"
fi
